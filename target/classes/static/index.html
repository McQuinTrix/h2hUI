		<html>
		<head>
			<meta charset="utf-8">
			<meta http-equiv="cache-control" content="no-cache">
			<meta http-equiv="pragma" content="no-cache">
			<meta http-equiv="expires" content="0">
			<meta name="robots" content="noindex,nofollow" />

 			<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/gridstack.js/0.2.3/gridstack-extra.css" />
			<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/gridstack.js/0.2.3/gridstack.css" />
		    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/tooltipster/3.3.0/css/tooltipster.min.css">
			<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.css">
			<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
			<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">

		    <link rel="styleSheet" href="style.css" type="text/css" media="screen">
		  
			<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
			<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
			<script src="//cdnjs.cloudflare.com/ajax/libs/tooltipster/3.3.0/js/jquery.tooltipster.js"></script>
			<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
			<script src="//cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.js"></script>
		
			<script src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/3.10.1/lodash.js"></script>
 			<script src="//cdnjs.cloudflare.com/ajax/libs/knockout/3.4.0/knockout-min.js"></script>
            
			<script src="bower_components/adapter.js/adapter.js"></script>
			
			<script src="./js/conferenceroom.js"></script>
			<script src="./js/participant.js"></script>
			<script src="./js/utils.js"></script>
			
		</head>
		<body>
        <div id="vertical-nav" style="display:none;">
            <div>
                <span style="display:inline-block; ">
                  H2H
                </span>
                <!--<div class="ver-full">
                    <span id="room-header"></span>
                </div> -->
            </div>
            <ul class="ver-full list-group" style="margin-bottom:0px; list-style-type: none;">
                <li style="background-color:#23c6c8; color: white; text-align:center;" title="Meeting ID">
                    <span id="room-header"></span>
                </li>
            </ul>
            <ul class="list-group">
              <li id="ver-users" class="active">
                  <span class="nav-names" style="display: inline-block; width: 100%">
                      <i class="fa fa-users fa-2x"></i> 
                      <div class="disp" style="width:195px;">
                          Participants 
                          <div style="float:right; margin-right: -13px;">
                              <i class="fa fa-caret-down"></i>
                              <i class="fa fa-caret-left"></i>
                          </div>
                      </div>
                  </span>
                  <ul class="list-group" id="user-list">
                  </ul>
              </li>
           <!-- <li class="notificationButton chat-button" id="liRaiseHand" title="Raise Hand">
                <span class="nav-names"><i class="fa fa-hand-paper-o fa-2x"></i><span class="disp">Raise Hand</span></span>
            </li>-->
              <li>
                  <a id="btnShare">
                      <span class="nav-names"><i class="fa fa-share-alt fa-2x"></i> <span class="disp">Share</span></span>
                  </a>
              </li>
              <li><span class="nav-names"><i class="fa fa-life-ring fa-2x"></i> <span class="disp">Support</span></span></li>
              <li><span class="nav-names"><i class="fa fa-envelope fa-2x"></i> <span class="disp">FeedBack</span></span></li>
              <li><span class="nav-names"><i class="fa fa-question-circle fa-2x"></i> <span class="disp">FAQs</span></span></li>
              <li><span class="nav-names"><i class="fa fa-magic fa-2x"></i> <span class="disp">Features</span></span></li>
            </ul>
            <ul class="list-group" style="position: absolute; bottom: 0px; width: 100%; margin-bottom: 0px;" id="leave-exit">
                <li title="Leave Room">
                    <a onmouseup="leaveRoom();"><span class="nav-names"><i class="fa fa-phone fa-2x conference-toggle-terminate-call-button"></i> <span class="disp">Exit Meeting</span></span></a>
                </li>
            </ul>
        </div>
        <div id="fullBod" style="margin-left:0px;">
            <nav class="navbar navbar-inverse navbar-fixed-top" >
              <div>
                <div id="room" style="display: none;">
                  <div class="container-fluid">
                   <div class="conference-user-control-bar text-center ng-isolate-scope" show-invitation="showInvitation" on-leave="onLeave" conference-state="conferenceState">
                        <ul dynamic-directive="live-conference-control-bar-items" class="list-inline nav navbar-nav" style="display: block;" >
                            <li>
                                <a id="vertinav" onclick="chgWid()">
                                    <span class="conference-light-button">
                                        <i class="fa fa-bars fa-2x"></i>
                                    </span>
                                </a>
                            </li>
                            <li>
                               <form class="webSearch" dynamic-directive-id="2" style="">
                                    <div id="aSearch">
                                        <span data-sid="1" class="fa fa-google"></span>
                                        <span class="fa fa-angle-down"></span>
                                        <span class="inp-text">
                                            <input class="search-bar" type="text" placeholder="Search..">
                                            <!--<i class="fa fa-times"></i>-->
                                        </span>
                                        
                                        <ul class="list-group" id="select-site">
                                            <li><span data-sid="1" class="fa fa-google"></span> Google &emsp;<i class="fa fa-check"></i></li>
                                            <li><span data-sid="2" class="img-baidu"></span> Baidu</li>
                                            <li><span data-sid="3" class="img-bing"></span> Bing</li>
                                            <li><span data-sid="4" class="fa fa-yahoo"></span> Yahoo</li>
                                            <li><span data-sid="5" class="fa fa-wikipedia-w"></span> Wikipedia</li>
                                            <li><span data-sid="6" class="fa fa-linkedin"></span> LinkedIn</li>
                                            <li><span data-sid="7" class="fa fa-amazon"></span> Amazon</li>
                                            <li><span data-sid="8" class="img-ebay"></span> eBay</li>
                                        </ul>
                                   </div>
                                </form>
                           </li>
                        </ul>
                       <ul class="list-inline nav navbar-nav sixIcon" style="position: fixed; left: 46%;">
                           <li class="conference-light-button" title="Turn Audio ON/OFF" id="liToggleMicrophone" data-audio="true" onclick="onOffVM(this);">
                                <a>
                                    <img id="iMicrophone" src='img/mic-on.svg' style='width:1.1em;' />
                                </a>
                            </li>
                           <li class="conference-light-button" title="Turn Video On/Off" id="liToggleVideo" data-video="true" onclick="onOffVM(this);">
                               <a>
                                   <img id="iMicrophone" src='img/video-on.svg' style='width:1.5em; margin: 4px;' />
                               </a>
                           </li>
                            <li ng-class="{'hidden': noVideo}" title="Turn Recording ON/OFF" onclick="onOffVM(this);">
                                <a ng-click="toggleCamera()">
                                    
                                    <i ng-class="{'fa-eye': !videoMuted, 'fa-eye-slash': videoMuted}" class="fa fa-2x conference-toggle-video-button conference-light-button fa-eye"></i>
                                </a>
                            </li>
                           
                           <li id="addDocument">
                                <a>
                                  <span class="notificationButton conference-light-button">
                                    <i class="fa fa-2x fa-plus-circle"></i>
                                    </span>
                                </a>
                                <div style="display:none;">
                                    <ul>
                                        <li><b>Quick Add</b></li>
                                        <li><i class="fa fa-plus"></i> Add Document</li>
                                        <li><i class="fa fa-plus"></i> Add WhiteBoard</li>
                                    </ul>
                               </div>
                           </li>
                            <li class="chat-button" id="liRaiseHand" title="Raise Hand"  style='margin-top:-2px;'>
                                <a>
                                    <img src='img/hand_icon_on.svg' style='width:1.1em;' />
                                    <!--
                                    <span class="notificationButton conference-light-button">
                                        <i class="fa fa-hand-paper-o fa-2x"></i>
                                    </span>
                                    -->
                                </a>
                            </li>
                           <li title="Turn Screen Sharing ON/OFF">
                               <a>
                                   <span class="conference-light-button">
                                       <img src='img/shareScreen.svg' style='width:1.3em; margin:1px;' />
                                   </span>
                               </a>
                           </li>
                       </ul>
                       
                       <ul class="list-inline nav navbar-nav navbar-right" style="display: block; margin-right:0px;" >
                           <!--<li title="Turn Audio ON/OFF" id="liToggleMicrophone">
                                <a ng-click="toggleSound()"><i id="iMicrophone" ng-class="{'fa-microphone': !muted, 'fa-microphone-slash': muted}" class="fa fa-2x conference-mute-button conference-light-button fa-microphone"></i></a>
    </li>
                           <li title="Turn Video On/Off">
                               <a>
                                    <i class="fa fa-2x fa-video-camera conference-light-button"></i>
                               </a>
                           </li>
                            <li ng-class="{'hidden': noVideo}" title="Turn Camera ON/OFF">
                                <a ng-click="toggleCamera()">
                                    <i ng-class="{'fa-eye': !videoMuted, 'fa-eye-slash': videoMuted}" class="fa fa-2x conference-toggle-video-button conference-light-button fa-eye"></i>
                                </a>
    </li>
                           
                           <li id="addDocument">
                                <a>
                                  <span class="notificationButton conference-light-button">
                                    <i class="fa fa-2x fa-plus-circle"></i>
                                    </span>
                                </a>
                                <div style="display:none;">
                                    <ul>
                                        <li><b>Quick Add</b></li>
                                        <li><i class="fa fa-plus"></i> Add Document</li>
                                        <li><i class="fa fa-plus"></i> Add WhiteBoard</li>
                                    </ul>
                               </div>
                           </li>

                            <li class="chat-button" id="liRaiseHand" title="Raise Hand">
                                <a>
                                    <span class="notificationButton conference-light-button">
                                        <i class="fa fa-hand-paper-o fa-2x"></i>
                                    </span>
                                </a>
                            </li>
                           <li>
                               <a>
                                   <span class="conference-light-button">
                                       <i class="fa fa-desktop fa-2x"></i>
                                   </span>
                               </a>
                           </li>-->
                           <li title="Default View">
                                <a id="aDisplay6Grid">
                                    <img src='img/6-grid.svg' style='width:1.3em; margin:1px;' />
                                </a>
                            </li>
                           <li><i class="fa fa-cogs fa-spin"></i></li>
                       </ul>
                    </div>
                  </div>    
                </div>
              </div>
            </nav>
            <div id="join" class="animate join" style="background: #E0E0E0; margin-top: 4.2em;">
                <h1>Join a Conference Room</h1>
                <form onsubmit="register(); return false;" accept-charset="UTF-8">
                    <p>
                        <input type="text" name="name" value="" id="name"
                               placeholder="Username" required>
                    </p>
                    <p>
                        <input type="text" name="room" value="" id="roomName"
                               placeholder="Room" required>
                    </p>
                    <p class="submit">
                        <input type="submit" name="commit" value="Join!">
                    </p>
                </form>
            </div>
            <div id="myCover" style="display: none;">
					   <div class="grid-stack" id="spec-grid">
						    <div class="grid-stack-item" data-gs-width="4"  data-id="1" data-gs-auto-position="true">
						            <div class="grid-stack-item-content">
						            	<div id="participants" class="form-horizontal"></div>
						            </div>
						    </div>

                            <div class="grid-stack-item" data-gs-width="4" data-id="2" data-gs-auto-position="true">
                                <div class="grid-stack-item-content">
                                    <div id="divChat"  ng-controller="chatController" class="chat-window-wrapper visible">
                                        <div class="chat-window">
                                            <div class="flexbox-parent">
                                                <div class="flexbox-item header">
                                                    <div class="top-bar">
                                                        <div class="col-md-12 col-xs-12"><h4>Chat Room</h4></div>
                                                    </div>
                                                </div>
                                                <iframe id="iFrameChat" style="
                                                        width: 100%;
                                                        height: 100%;
                                                        background: white;
                                                        border: 0;"></iframe>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="grid-stack-item" data-gs-width="4" data-id="3" data-gs-auto-position="true">
                                <div class="grid-stack-item-content">
                                    <iframe id="iFrameWhiteBoard" style="
                                                                        width: 100%;
                                                                        height: 100%;
                                                                        background: white;
                                                                        border: 0;"></iframe>	
                                </div>
                            </div>

                            <div class="grid-stack-item" data-gs-width="4"  data-id="4" data-gs-auto-position="true">
                              <div class="grid-stack-item-content">
                                <div id="divTranscript" class="chat-window-wrapper visible">
                                            <div class="chat-window">
                                                <div class="flexbox-parent">
                                                    <div class="flexbox-item header">
                                                        <div class="top-bar">
                                                            <div class="col-md-12 col-xs-12"><h4>Meeting Transcript</h4></div>
                                                        </div>
                                                    </div>
                                                        <p style="color:black;" id="pTranscript"></p>										
                                                          <span id="final_span" style="padding:10px;color:blue;font-size:24px;text-align:left;"></span>

                                                        <br />
                                                        <br />
                                                        <p id ="interim_ui" style="display:none;font-size:24px;color:lightgray;">Speaking Now:  <img id="rec_img" src ="img/mic-animate.gif" style="vertical-align:middle;width:25px;height:25px;" /></p>
                                                        <br />
                                                          <span id="interim_span" style="font-size:24px;color:red;text-align:center"></span>
                                                        <br />
                                                </div>
                                            </div>
                                        </div>
                            </div>
                            </div>

                            <div class="grid-stack-item" data-gs-width="4"  data-id="5" data-gs-auto-position="true">
                               <div class="grid-stack-item-content">
                                    <div id="search-results">
                                        
                                    </div><!-- search results -->
                                </div>
                            </div>

                            <div class="grid-stack-item" data-gs-width="4" data-gs-height="6" data-id="6" data-gs-auto-position="true">
                                    <div class="grid-stack-item-content">

                                        <div id="divChatter" class="chat-window-wrapper visible">
                                            <div class="chat-window">
                                                <div class="flexbox-parent">
                                                    <div class="flexbox-item header">
                                                        <div class="top-bar">
                                                            <div class="col-md-9 col-xs-9" style="display:inline-block;">
                                                                <h4>Chatter</h4>
                                                            </div>
                                                            <!--
                                                            <div class="col-md-3 col-xs-3" style="display:inline-block;">
                                                                <i class="fa fa-compress"></i>
                                                                <i class="fa fa-expand"></i>
                                                                <i class="fa fa-arrows-alt"></i>
                                                            </div>
                                                            -->
                                                        </div>
                                                    </div>
                                                     <canvas id="tag_cloud_canvas" height="300" width="600" >
                                                     </canvas>
                                                    <script src="wordcloud2.js"></script>
                                                    <script>
                                                    var list = [['WebRTC', 12], ['deadline',10],['meeting',9], ['accelerate',8],['cloud',7],['global',6] ,['cost',6],['mobile',6],['web',5],['grid',4],['flexible',3]];
                                                    var wc =  new WordCloud(document.getElementById('tag_cloud_canvas'), { list: list, gridSize: 36, weightFactor:3 } );
                                                    </script>

                                                </div>
                                            </div>
                                        </div>

                                    </div>
                             </div>
                           
                           
 


						    </div>
                    </div>
	    </div>
		<script type="text/javascript">
		   $(window).load(function() {
		        //Check if the URL has query Parameters
                  function getUrlVars(locationURL) {
                    var url = decodeURI(locationURL);
                    var vars = {};
                    var hashes = url.split("?")[1];
                    if(hashes !=undefined){
                      var hash = hashes.split('&');
                      for (var i = 0; i < hash.length; i++) {
                        params=hash[i].split("=");
                        vars[params[0].toLowerCase()]= params[1];
                      }

                    }
                    return vars;
                  };

                  var urlParams = getUrlVars(window.location.href);
                  if(urlParams!=undefined){
                    if(urlParams.username && urlParams.roomname){
                      autoRegister(urlParams.username,urlParams.roomname);
                    }
                  };

                $("#btnShare").click(function(e){	
                   swal({   
                    title: "Meeting Invitation!",  
                     text: "Share the meeting link:",   
                     type: "input",   
                     showCancelButton: true,   
                     closeOnConfirm: false,   
                     animation: "slide-from-top",   
                     inputPlaceholder: "Enter Email Address" ,
                      html: true
                    }, 
                    function(inputValue){   
                        if (inputValue === false) 
                            return false;      
                        if (inputValue === "") {     
                            swal.showInputError("You need to enter email address!");   
                            return false   
                        }      
                        swal("Nice!", "You Shared the meeting link with : " + inputValue, "success"); 
                    });      
});

                $("#addDocument").click(function(){
                    $("#addDocument > div").toggle();
                });
                
                $(".fa-eye").click(function(){
                    $(this).toggleClass("blink");
                });
               
               
                $("#ver-users #user-list").click(function(e) {
                    e.stopPropagation();
                });
                $("#ver-users").click(function(event){
                    //Check if left nav is open then only do toggling
                    if($("#vertical-nav").hasClass("ver-nav-show")){
                        $(this).toggleClass("active");
                    }else{
                        chgWid();
                        $(this).addClass("active");
                    }
                });
                $("#aSearch span input").focusin(function(){
                    $(".sixIcon").hide()
                    $(this).attr("placeholder","");
                });
                $("#aSearch span input").focusout(function(){
                    $(".sixIcon").show();
                    $(this).attr("placeholder","Search..");
                });
                //Search Options and its functionality
                $("#aSearch span:not(.inp-text)").on("click",function(){
                    event.stopPropagation();
                    console.log("clicked");
                    $("#select-site").toggle();
                });
                $("html").on("click",function(){
                    $("#select-site").hide();
                });
                $("#select-site").on("click",function(e){
                    event.stopPropagation();
                });
                $("#select-site li").on("click",function(e){
                    var getClass = $(this).find('span:first').attr('class'),
                        getSid = $(this).find('span:first').attr('data-sid'),
                        mClass = $("#aSearch span:first").attr('class');
                    
                    console.log(mClass);
                    $("#select-site li .fa-check").remove();
                    $("#aSearch span:first").attr('class',getClass);
                    $("#aSearch span:first").attr('data-sid',getSid);
                    
                    $(this).append('&emsp;<i class="fa fa-check"></i>');
                    $("#select-site").hide();
                    $("#aSearch span input").focus();
                    /*
                    var grid = $('.grid-stack').data('gridstack');
                    grid.add_widget($("[data-id='5']").clone(),false);
                    */
                });
                $(".search-bar").on("keypress",function(e){
                    if(e.keyCode == 13){
                        searchTerm = $(this).val()
                        d_sid = $("#aSearch span:first-of-type").attr("data-sid");
                        funcSelector(d_sid,searchTerm);
                        /*
                        if($("#aSearch span:first-of-type").attr("data-sid") == "1"){
                            googleSearch(searchTerm);
                        }else if($("#aSearch span:first-of-type").attr("data-sid") == "5"){
                            wikiSearch(searchTerm);
                        }*/
                        return false;
                    }
                    
                });
                $(".fa-times").on("mousedown",function(){
                    $(".search-bar").val('');
                })
                $(document).on("click","#search-results .fa-times",function(e){
                    e.cancelBubble = true;
                    var elem = $(this).parent().attr("data-target");
                    $(elem).remove();
                    $(this).parent().parent().remove();
                    //Defaulting to results tab
                    $("#search-results .tab-content div,#search-results li").removeClass("active in");
                    $("#search-results .tab-content div:first-child").addClass("active in")
                    $("#search-results li:first-child").addClass("active");
                    return false;
                });
                
		    });
		</script>
		
		<script src="socket.io.client.js"></script>
	    <script src="s2t.js"></script>
        <script src="js/gridstack.js"></script>

</body>
</html>
